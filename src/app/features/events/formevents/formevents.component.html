<div class="simple-form-container">
  <h2>Add Event</h2>

  <form class="simple-form" #eventForm="ngForm"
        (ngSubmit)="save()" novalidate>


    <label for="title">Title</label>
    <input
      id="title"
      name="title"
      [(ngModel)]="eventy.title"
      type="text"
      placeholder="Titre de l'événement"
      required
      minlength="3"
      #titleCtrl="ngModel"
    />
    <div class="error" *ngIf="titleCtrl.invalid && (titleCtrl.touched || eventForm.submitted)">
      <small *ngIf="titleCtrl.errors?.['required']">Title is required</small>
      <small *ngIf="titleCtrl.errors?.['minlength']">Title must be at least 3 characters</small>
    </div>


    <label for="description">Description</label>
    <textarea
      id="description"
      name="description"
      [(ngModel)]="eventy.description"
      placeholder="Décrivez votre événement..."
      maxlength="200"
      minlength="10"
      #descCtrl="ngModel"
    ></textarea>
    <div class="error" *ngIf="descCtrl.invalid && (descCtrl.touched || eventForm.submitted)">
      <small *ngIf="descCtrl.errors?.['maxlength']">Max 200 characters allowed</small>
      <small *ngIf="descCtrl.errors?.['minlength']">Min 10 characters allowed</small>
    </div>


    <label for="date">Date</label>
    <input
      id="date"
      name="date"
      [(ngModel)]="eventy.date"
      type="date"
      required
      [min]="today"
      #dateCtrl="ngModel"
    />
    <div class="error" *ngIf="dateCtrl.invalid && (dateCtrl.touched || eventForm.submitted)">
      <small>Date is required</small>
    </div>


    <label for="location">Place</label>
    <input
      id="location"
      name="location"
      [(ngModel)]="eventy.location"
      type="text"
      placeholder="Ex: Tunis"
      required
      #locationCtrl="ngModel"
    />
    <div class="error" *ngIf="locationCtrl.invalid && (locationCtrl.touched || eventForm.submitted)">
      <small>Location is required</small>
    </div>


    <label for="price">Price (DT)</label>
    <input
      id="price"
      name="price"
      [(ngModel)]="eventy.price"
      type="number"
      placeholder="Ex: 25"
      required
      min="0"
      #priceCtrl="ngModel"
    />
    <div class="error" *ngIf="priceCtrl.invalid && (priceCtrl.touched || eventForm.submitted)">
      <small *ngIf="priceCtrl.errors?.['required']">Price is required</small>
      <small *ngIf="priceCtrl.errors?.['min']">Price cannot be negative</small>
    </div>


    <label for="nbPlaces">Number of Places</label>
    <input
      id="nbPlaces"
      name="nbPlaces"
      [(ngModel)]="eventy.nbPlaces"
      type="number"
      placeholder="Ex: 100"
      required
      min="1"
      #nbCtrl="ngModel"
    />
    <div class="error" *ngIf="nbCtrl.invalid && (nbCtrl.touched || eventForm.submitted)">
      <small *ngIf="nbCtrl.errors?.['required']">Number of places is required</small>
      <small *ngIf="nbCtrl.errors?.['min']">Must be at least 1</small>
    </div>


    <label for="imageUrl">Image (URL)</label>
    <input
      id="imageUrl"
      name="imageUrl"
      [(ngModel)]="eventy.imageUrl"
      type="url"
      placeholder="https://exemple.com/image.jpg"
      required
      pattern="https?://.+"
      #imgCtrl="ngModel"
    />
    <div class="error" *ngIf="imgCtrl.invalid && (imgCtrl.touched || eventForm.submitted)">
      <small *ngIf="imgCtrl.errors?.['required']">Image URL is required</small>
      <small *ngIf="imgCtrl.errors?.['pattern']">Enter a valid URL (must start with http or https)</small>
    </div>


    <button type="submit" class="btn" [disabled]="eventForm.invalid">
      Add Event
    </button>

  </form>
</div>

<hr>
